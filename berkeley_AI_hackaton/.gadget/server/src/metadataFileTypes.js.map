{"version":3,"sources":["/app/packages/framework/src/metadataFileTypes.ts"],"sourcesContent":["/**\nA map of roles with the role key as the map key.\n\nExample:\n```\n{\n  \"signed-in\": {\n    name: \"signed-in\",\n    default: {\n      read: true,\n      action: true,\n    },\n    models: {\n      user: {\n        read: {\n          filter: \"user/filters/tenant.gelly\",\n        },\n        actions: {\n          changePassword: {\n            filter: \"user/filters/tenant.gelly\",\n          },\n          signOut: {\n            filter: \"user/filters/tenant.gelly\",\n          },\n        },\n      },\n    },\n  }\n}\n```\n */\ntype GadgetPermissions = {\n  type: \"gadget/permissions/v1\";\n  roles: {\n    [x: string]: {\n      storageKey: string;\n      default?:\n        | {\n            read?: boolean | undefined;\n            action?: boolean | undefined;\n          }\n        | undefined;\n      models?:\n        | {\n            [x: string]: {\n              read?:\n                | (\n                    | boolean\n                    | {\n                        filter: string | null;\n                      }\n                  )\n                | undefined;\n              actions?:\n                | {\n                    [x: string]:\n                      | boolean\n                      | {\n                          filter: string | null;\n                        };\n                  }\n                | undefined;\n            };\n          }\n        | undefined;\n      actions?:\n        | {\n            [x: string]: boolean;\n          }\n        | undefined;\n    };\n  };\n};\n\ntype GadgetSettings = {\n  type: \"gadget/settings/v1\";\n  frameworkVersion: \"v0.1\" | \"v0.2\" | \"v0.3\" | \"v0.3.1\" | \"v1.0.0\" | \"v1.1.0\";\n  plugins: {\n    connections?:\n      | {\n          shopify?:\n            | (\n                | {\n                    apiVersion: \"2022-01\" | \"2022-04\" | \"2022-07\" | \"2022-10\" | \"2023-01\" | \"2023-04\" | \"2023-07\" | \"2023-10\" | \"2024-01\" | \"2024-04\";\n                    enabledModels: string[];\n                    type: \"partner\";\n                    scopes: string[];\n                    customerAuthenticationEnabled?: boolean | undefined;\n                  }\n                | {\n                    apiVersion: \"2022-01\" | \"2022-04\" | \"2022-07\" | \"2022-10\" | \"2023-01\" | \"2023-04\" | \"2023-07\" | \"2023-10\" | \"2024-01\" | \"2024-04\";\n                    enabledModels: string[];\n                    type: \"admin\";\n                  }\n              )\n            | undefined;\n          openai?: boolean | undefined;\n          sentry?: boolean | undefined;\n        }\n      | undefined;\n    authentications?:\n      | {\n          settings: {\n            redirectOnSignIn: string;\n            signInPath: string;\n            unauthorizedUserRedirect: \"redirect\" | \"signInPath\" | \"show-403-error\" | \"403Error\";\n            accessControlForSignedInUsers?: string[] | undefined;\n            defaultSignedInRoles?: string[] | undefined;\n          };\n          methods: {\n            googleOAuth?:\n              | {\n                  offlineAccess: boolean;\n                  scopes: string[];\n                }\n              | undefined;\n            emailPassword?: boolean | undefined;\n          };\n        }\n      | undefined;\n  };\n};\n\ntype GadgetModel = {\n  type: \"gadget/model-schema/v1\";\n  storageKey: string;\n  fields: {\n    [x: string]:\n      | {\n          type: \"number\";\n          shopifyMetafield?:\n            | {\n                privateMetafield?: boolean | undefined;\n                namespace?: string | undefined;\n                key?: string | undefined;\n                metafieldType?: string | undefined;\n                allowMultipleEntries?: boolean | undefined;\n              }\n            | undefined;\n          default?: number | undefined;\n          decimals?: number | undefined;\n          validations?:\n            | {\n                required?: boolean | undefined;\n                numberRange?:\n                  | {\n                      min: number | null;\n                      max: number | null;\n                    }\n                  | undefined;\n                unique?:\n                  | (\n                      | {\n                          scopeByField?: string | undefined;\n                        }\n                      | boolean\n                    )\n                  | undefined;\n                run?: (string | null)[] | undefined;\n              }\n            | undefined;\n          storageKey: string;\n        }\n      | {\n          type: \"string\";\n          shopifyMetafield?:\n            | {\n                privateMetafield?: boolean | undefined;\n                namespace?: string | undefined;\n                key?: string | undefined;\n                metafieldType?: string | undefined;\n                allowMultipleEntries?: boolean | undefined;\n              }\n            | undefined;\n          default?: string | undefined;\n          validations?:\n            | {\n                required?: boolean | undefined;\n                stringLength?:\n                  | {\n                      min: number | null;\n                      max: number | null;\n                    }\n                  | undefined;\n                regex?: (string | null)[] | undefined;\n                unique?:\n                  | (\n                      | {\n                          scopeByField?: string | undefined;\n                          caseSensitive?: boolean | undefined;\n                        }\n                      | boolean\n                    )\n                  | undefined;\n                run?: (string | null)[] | undefined;\n              }\n            | undefined;\n          storageKey: string;\n        }\n      | {\n          type: \"richText\";\n          default?:\n            | {\n                markdown: string;\n              }\n            | undefined;\n          validations?:\n            | {\n                required?: boolean | undefined;\n                stringLength?:\n                  | {\n                      min: number | null;\n                      max: number | null;\n                    }\n                  | undefined;\n                regex?: (string | null)[] | undefined;\n                unique?:\n                  | (\n                      | {\n                          scopeByField?: string | undefined;\n                          caseSensitive?: boolean | undefined;\n                        }\n                      | boolean\n                    )\n                  | undefined;\n                run?: (string | null)[] | undefined;\n              }\n            | undefined;\n          storageKey: string;\n        }\n      | {\n          type: \"email\";\n          shopifyMetafield?:\n            | {\n                privateMetafield?: boolean | undefined;\n                namespace?: string | undefined;\n                key?: string | undefined;\n                metafieldType?: string | undefined;\n                allowMultipleEntries?: boolean | undefined;\n              }\n            | undefined;\n          default?: string | undefined;\n          validations?:\n            | {\n                required?: boolean | undefined;\n                stringLength?:\n                  | {\n                      min: number | null;\n                      max: number | null;\n                    }\n                  | undefined;\n                regex?: (string | null)[] | undefined;\n                unique?:\n                  | (\n                      | {\n                          scopeByField?: string | undefined;\n                          caseSensitive?: boolean | undefined;\n                        }\n                      | boolean\n                    )\n                  | undefined;\n                run?: (string | null)[] | undefined;\n              }\n            | undefined;\n          storageKey: string;\n        }\n      | {\n          type: \"url\";\n          shopifyMetafield?:\n            | {\n                privateMetafield?: boolean | undefined;\n                namespace?: string | undefined;\n                key?: string | undefined;\n                metafieldType?: string | undefined;\n                allowMultipleEntries?: boolean | undefined;\n              }\n            | undefined;\n          default?: string | undefined;\n          validations?:\n            | {\n                required?: boolean | undefined;\n                stringLength?:\n                  | {\n                      min: number | null;\n                      max: number | null;\n                    }\n                  | undefined;\n                regex?: (string | null)[] | undefined;\n                unique?:\n                  | (\n                      | {\n                          scopeByField?: string | undefined;\n                          caseSensitive?: boolean | undefined;\n                        }\n                      | boolean\n                    )\n                  | undefined;\n                run?: (string | null)[] | undefined;\n              }\n            | undefined;\n          storageKey: string;\n        }\n      | {\n          type: \"color\";\n          shopifyMetafield?:\n            | {\n                privateMetafield?: boolean | undefined;\n                namespace?: string | undefined;\n                key?: string | undefined;\n                metafieldType?: string | undefined;\n                allowMultipleEntries?: boolean | undefined;\n              }\n            | undefined;\n          default?: string | undefined;\n          validations?:\n            | {\n                required?: boolean | undefined;\n                stringLength?:\n                  | {\n                      min: number | null;\n                      max: number | null;\n                    }\n                  | undefined;\n                regex?: (string | null)[] | undefined;\n                color?: boolean | undefined;\n                run?: (string | null)[] | undefined;\n              }\n            | undefined;\n          storageKey: string;\n        }\n      | {\n          type: \"json\";\n          shopifyMetafield?:\n            | {\n                privateMetafield?: boolean | undefined;\n                namespace?: string | undefined;\n                key?: string | undefined;\n                metafieldType?: string | undefined;\n                allowMultipleEntries?: boolean | undefined;\n              }\n            | undefined;\n          default?: any | undefined;\n          defaultAsString?: string | undefined;\n          validations?:\n            | {\n                required?: boolean | undefined;\n                unique?:\n                  | (\n                      | {\n                          scopeByField?: string | undefined;\n                        }\n                      | boolean\n                    )\n                  | undefined;\n                run?: (string | null)[] | undefined;\n              }\n            | undefined;\n          storageKey: string;\n        }\n      | {\n          type: \"enum\";\n          shopifyMetafield?:\n            | {\n                privateMetafield?: boolean | undefined;\n                namespace?: string | undefined;\n                key?: string | undefined;\n                metafieldType?: string | undefined;\n                allowMultipleEntries?: boolean | undefined;\n              }\n            | undefined;\n          default?: (string | string[]) | undefined;\n          acceptMultipleSelections?: boolean | undefined;\n          acceptUnlistedOptions?: boolean | undefined;\n          options: string[];\n          validations?:\n            | {\n                required?: boolean | undefined;\n                unique?:\n                  | (\n                      | {\n                          scopeByField?: string | undefined;\n                        }\n                      | boolean\n                    )\n                  | undefined;\n                run?: (string | null)[] | undefined;\n              }\n            | undefined;\n          storageKey: string;\n        }\n      | {\n          type: \"boolean\";\n          shopifyMetafield?:\n            | {\n                privateMetafield?: boolean | undefined;\n                namespace?: string | undefined;\n                key?: string | undefined;\n                metafieldType?: string | undefined;\n                allowMultipleEntries?: boolean | undefined;\n              }\n            | undefined;\n          default?: boolean | undefined;\n          validations?:\n            | {\n                required?: boolean | undefined;\n                run?: (string | null)[] | undefined;\n              }\n            | undefined;\n          storageKey: string;\n        }\n      | {\n          type: \"dateTime\";\n          shopifyMetafield?:\n            | {\n                privateMetafield?: boolean | undefined;\n                namespace?: string | undefined;\n                key?: string | undefined;\n                metafieldType?: string | undefined;\n                allowMultipleEntries?: boolean | undefined;\n              }\n            | undefined;\n          includeTime?: boolean | undefined;\n          default?: string | undefined;\n          validations?:\n            | {\n                required?: boolean | undefined;\n                unique?:\n                  | (\n                      | {\n                          scopeByField?: string | undefined;\n                        }\n                      | boolean\n                    )\n                  | undefined;\n                run?: (string | null)[] | undefined;\n              }\n            | undefined;\n          storageKey: string;\n        }\n      | {\n          type: \"vector\";\n          validations?:\n            | {\n                required?: boolean | undefined;\n                dimensionCount?: (number | null) | undefined;\n                run?: (string | null)[] | undefined;\n              }\n            | undefined;\n          storageKey: string;\n        }\n      | {\n          type: \"file\";\n          allowPublicAccess?: boolean | undefined;\n          validations?:\n            | {\n                required?: boolean | undefined;\n                fileSizeRange?:\n                  | {\n                      min: number | null;\n                      max: number | null;\n                    }\n                  | undefined;\n                run?: (string | null)[] | undefined;\n                imagesOnly?:\n                  | (\n                      | boolean\n                      | {\n                          allowAnimatedImages: boolean;\n                        }\n                    )\n                  | undefined;\n              }\n            | undefined;\n          storageKey: string;\n        }\n      | {\n          type: \"encryptedString\";\n          validations?:\n            | {\n                required?: boolean | undefined;\n                run?: (string | null)[] | undefined;\n              }\n            | undefined;\n          storageKey: string;\n        }\n      | {\n          type: \"computed\";\n          sourceFile?: (string | null) | undefined;\n          storageKey: string;\n        }\n      | {\n          type: \"belongsTo\";\n          validations?:\n            | {\n                required?: boolean | undefined;\n                unique?:\n                  | (\n                      | {\n                          scopeByField?: string | undefined;\n                        }\n                      | boolean\n                    )\n                  | undefined;\n                run?: (string | null)[] | undefined;\n              }\n            | undefined;\n          parent?:\n            | {\n                model: string | null;\n              }\n            | undefined;\n          shopifyMetafield?:\n            | {\n                privateMetafield?: boolean | undefined;\n                namespace?: string | undefined;\n                key?: string | undefined;\n                metafieldType?: string | undefined;\n                allowMultipleEntries?: boolean | undefined;\n              }\n            | undefined;\n          storageKey: string;\n        }\n      | {\n          type: \"hasOne\";\n          child?:\n            | {\n                model: string | null;\n                belongsToField: string | null;\n              }\n            | undefined;\n          storageKey: string;\n        }\n      | {\n          type: \"hasMany\";\n          children?:\n            | {\n                model: string | null;\n                belongsToField: string | null;\n              }\n            | undefined;\n          storageKey: string;\n        }\n      | {\n          type: \"hasManyThrough\";\n          sibling?:\n            | {\n                model: string | null;\n                relatedField: string | null;\n              }\n            | undefined;\n          join?:\n            | {\n                model: string | null;\n                belongsToSelfField: string | null;\n                belongsToSiblingField: string | null;\n              }\n            | undefined;\n          storageKey: string;\n        }\n      | {\n          type: \"password\";\n          validations?:\n            | {\n                required?: boolean | undefined;\n                strongPassword?: boolean | undefined;\n              }\n            | undefined;\n          storageKey: string;\n        }\n      | {\n          type: \"roleList\";\n          default?: string[] | undefined;\n          storageKey: string;\n        }\n      | {\n          storageKey: string;\n          /** @deprecated This field type is deprecated. */\n          type: \"money\";\n          default?:\n            | {\n                amount: number;\n              }\n            | undefined;\n          currency?: string | undefined;\n        }\n      | {\n          storageKey: string;\n          /** @deprecated This field type is deprecated. */\n          type: \"recordState\";\n        };\n  };\n  shopify?:\n    | {\n        fields?: string[] | undefined;\n      }\n    | undefined;\n};\n\nexport type { GadgetPermissions, GadgetSettings, GadgetModel };\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CA8BC"}